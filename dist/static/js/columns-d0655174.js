import{b as m}from"./data-cc5c031c.js";import{m as h}from"./message-19a66385.js";import{b as d,ae as b}from"./index-1d030a9b.js";import{d as g}from"./edit-pen-3cac8a5e.js";import{C}from"./check-8a35fc4e.js";function y(){const u=Vue.ref({}),t=Vue.ref({}),o=Vue.ref(-1),r=Vue.ref(d(m,!0)),s=Vue.computed(()=>a=>{var e;return(e=u.value[a])==null?void 0:e.value}),l=Vue.computed(()=>a=>{var e;return(e=t.value[a])==null?void 0:e.editing}),n=Vue.computed(()=>(a,e=!1)=>["cursor-pointer","ml-2","transition","delay-100",e?["hover:scale-110","hover:text-red-500"]:l.value(a)&&["scale-150","text-red-500"]]),c=[{label:"ID\uFF08\u53EF\u7F16\u8F91\uFF09",prop:"id",cellRenderer:({row:a,index:e})=>Vue.createVNode("div",{class:"flex-bc w-full h-[32px]",onMouseenter:()=>o.value=e,onMouseleave:()=>i(e)},[Vue.withDirectives(Vue.createVNode("p",null,[a.id]),[[Vue.vShow,!l.value(e)]]),Vue.createVNode(Vue.Transition,{"enter-active-class":"animate__animated animate__fadeInUp animate__faster"},{default:()=>[Vue.withDirectives(Vue.createVNode(Vue.resolveComponent("el-input"),{modelValue:s.value(e),onInput:f=>V(f,e)},null),[[Vue.vShow,l.value(e)]])]}),Vue.withDirectives(Vue.createVNode(Vue.resolveComponent("iconify-icon-offline"),{icon:C,class:n.value(e),onClick:()=>p(e)},null),[[Vue.vShow,l.value(e)]]),Vue.withDirectives(Vue.createVNode(Vue.resolveComponent("iconify-icon-offline"),{icon:g,class:n.value(e,!0),onClick:()=>v(a,e)},null),[[Vue.vShow,o.value===e&&!l.value(e)]])])},{label:"\u65E5\u671F",prop:"date"},{label:"\u59D3\u540D",prop:"name"},{label:"\u5730\u5740",prop:"address"}];function v({id:a},e){u.value[e]=Object.assign({},u.value[e],{value:a}),t.value[e]=Object.assign({},t.value[e],{editing:!0})}function i(a){var e;(e=u.value[a])!=null&&e.value?o.value=a:o.value=-1}function V(a,e){u.value[e].value=a}function p(a){r.value[a].id=u.value[a].value,h(`\u60A8\u7F16\u8F91\u4E86\u7B2C ${a+1} \u884C\uFF0C\u7F16\u8F91\u540E\u6570\u636E\u4E3A\uFF1A${JSON.stringify(r.value[a])}`,{type:"success"}),t.value[a]=Object.assign({},t.value[a],{editing:!1}),b().then(()=>u.value[a].value=null)}return{columns:c,dataList:r}}export{y as useColumns};
