import{K as N,G as c,J as a,f as H,_ as w}from"./index-1d030a9b.js";const d="stay",i="hs-on",h="hs-off",f="hs-range",m="both-left-sides",y="both-right-sides";let x="right",g=[],l=[];const B={HsKey:{type:Number||String,default:0},disabled:{type:Boolean,default:!1},value:{type:Number,default:0},max:{type:Array,default(){return[1,2,3,4,5,6,7,8,9,10]}},echo:{type:Array,default(){return[]}}},F=Vue.defineComponent({name:"ReSelector",props:B,emits:["selectedVal"],setup(s,{emit:V}){const o=Vue.getCurrentInstance(),_=s.value,S=Vue.computed(()=>s.disabled),b=Vue.computed(()=>{const e=[];let t=0,u=_;for(_!==Math.floor(_)&&u--;t<u;t++)e.push(i);for(;t<s.max.length;t++)e.push(h);return e}),q=e=>{if(!s.disabled){if(l.length===1){g.length<1&&g.push({index:e});let t=g[0].index;if(e>t)for(x="right",N(!1,y,document.querySelector(".hs-select__item"+l[0].index));e>=t;)c(document.querySelector(".hs-select__item"+t),f),t++;else for(x="left",N(!0,y,document.querySelector(".hs-select__item"+l[0].index));e<=t;)c(document.querySelector(".hs-select__item"+t),f),t--}c(document.querySelector("."+h+e),i)}},r=e=>{if(s.disabled)return;const t=document.querySelector("."+h+e);if(t.className.includes(d))return!1;if(a(t,i),l.length===1){const u=g[0].index;if(e>=u)for(let n=0;n<=e;n++)a(document.querySelector(".hs-select__item"+n),f);else for(;e<=u;)a(document.querySelector(".hs-select__item"+e),f),e++}},v=(e,t)=>{if(s.disabled)return;const u=l.length;u<2?(l.push({item:t,index:e}),c(document.querySelector("."+h+e),d),c(document.querySelector(".hs-select__item"+l[0].index),m),l[1]&&(x==="right"?c(document.querySelector(".hs-select__item"+l[1].index),y):c(document.querySelector(".hs-select__item"+l[1].index),m)),u===1&&(x==="right"?V("selectedVal",{left:l[0].item,right:l[1].item,whole:l}):V("selectedVal",{left:l[1].item,right:l[0].item,whole:l}))):Vue.nextTick(()=>{l.forEach(n=>{a(document.querySelector("."+h+n.index),i,d),a(document.querySelector(".hs-select__item"+n.index),m,y)}),l=[],g=[];for(let n=0;n<=s.max.length;n++){const C=document.querySelector(".hs-select__item"+n);C&&a(C,f)}l.push({item:t,index:e}),c(document.querySelector("."+h+e),d),c(document.querySelector(".hs-select__item"+l[0].index),m)})},K=e=>{if(e.length!==0){if(e.length>2||e.length===1)throw"\u4F20\u5165\u7684\u6570\u7EC4\u957F\u5EA6\u5FC5\u987B\u662F2";for(e.sort((t,u)=>t-u),c(o.refs["hsdiv"+s.HsKey+e[0]],i,d),c(o.refs["hstd"+s.HsKey+e[0]],m),c(o.refs["hsdiv"+s.HsKey+e[1]],i,d),c(o.refs["hstd"+s.HsKey+e[1]],y);e[1]>=e[0];)c(o.refs["hstd"+s.HsKey+e[0]],f),e[0]++}};return Vue.onBeforeMount(()=>{Vue.nextTick(()=>{K(s.echo)})}),()=>Vue.createVNode(Vue.Fragment,null,[Vue.createVNode("table",{cellspacing:"0",cellpadding:"0"},[Vue.createVNode("tbody",null,[Vue.createVNode("tr",null,[s.max.map((e,t)=>Vue.createVNode("td",{"data-index":s.HsKey,ref:`hstd${s.HsKey}${t}`,class:`hs-select__item${t}`,onMousemove:()=>q(t),onMouseleave:()=>r(t),onClick:()=>v(t,e),style:{cursor:Vue.unref(S)?"auto":"pointer",textAlign:"center"},key:t},[Vue.createVNode("div",{ref:`hsdiv${s.HsKey}${t}`,class:`hs-item ${[Vue.unref(b)[t]+t]}`},[Vue.createVNode("span",null,[e])])]))])])])])}}),p=H(F),E=p,$={class:"card-header"},D={key:0,class:"mt-3"},A=Vue.defineComponent({name:"Selector"}),L=Vue.defineComponent({...A,setup(s){const V=Vue.ref(""),o=Vue.ref([{title:"\u57FA\u672C\u4F7F\u7528",echo:[],disabled:!1},{title:"\u56DE\u663E\u6A21\u5F0F",echo:[2,7],disabled:!0}]),_=({left:S,right:b})=>{V.value=`${S}-${b}`};return(S,b)=>{const q=Vue.resolveComponent("el-card");return Vue.openBlock(),Vue.createElementBlock("div",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.value,(r,v)=>(Vue.openBlock(),Vue.createBlock(q,{class:"box-card",key:v},{header:Vue.withCtx(()=>[Vue.createElementVNode("div",$,[Vue.createElementVNode("span",null,Vue.toDisplayString(r.title),1)])]),default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(E),{HsKey:v,echo:r.echo,onSelectedVal:_,disabled:r.disabled},null,8,["HsKey","echo","disabled"]),r.disabled?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("h4",D,"\u9009\u4E2D\u8303\u56F4\uFF1A"+Vue.toDisplayString(V.value),1))]),_:2},1024))),128))])}}});const k=w(L,[["__scopeId","data-v-4f97eb42"]]);export{k as default};
