import{c as g,j as x,h as p,d as j,r as u,s as q,C as A,o as T,bs as U,b as s,f as t,w as a,m as Z,u as n,au as P,ab as m,g as v,H as V,E as G,p as J,q as K,ao as Q,_ as W}from"./index-56b66478.js";import{g as X}from"./system-6d8a3950.js";import{u as z}from"./hooks-9f8f808c.js";import{d as Y}from"./git-branch-line-7773f756.js";import{S as ee}from"./search-931ae65f.js";import{d as te}from"./more-2-fill-089c8ca1.js";import{d as oe}from"./office-building-342e02a9.js";const ne={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/>'},le=ne,ae={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},se=ae,re={width:"32",height:"32",viewBox:"0 0 24 24"},ce=p("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4h9Z"},null,-1),ie=[ce];function de(d,h){return g(),x("svg",re,ie)}const ue={render:de},pe={width:"32",height:"32",viewBox:"0 0 24 24"},he=p("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4V2Z"},null,-1),_e=[he];function fe(d,h){return g(),x("svg",pe,_e)}const me={render:fe},ve=d=>(J("data-v-628f3521"),d=d(),K(),d),ge={class:"h-full min-h-[780px] bg-bg_color overflow-auto"},xe={class:"flex items-center h-[34px]"},we=ve(()=>p("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"\u90E8\u95E8\u5217\u8868"}," \u90E8\u95E8\u5217\u8868 ",-1)),ye=j({__name:"tree",setup(d){const h=u(),w=u([]),_=u(!0),c=u(""),r=u({}),{proxy:M}=Q(),S={children:"children",label:"name"},y=q(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),B=(o,e)=>o?e.name.includes(o):!0;function N(o){var l;const e=o.$treeNodeId;r.value[e]=(l=r.value[e])!=null&&l.highlight?Object.assign({id:e},r.value[e],{highlight:!1}):Object.assign({id:e},r.value[e],{highlight:!0}),Object.values(r.value).forEach(f=>{f.id!==e&&(f.highlight=!1)})}function C(o){_.value=o;const e=M.$refs.treeRef.store._getAllNodes();for(let l=0;l<e.length;l++)e[l].expanded=o}function R(){r.value={},c.value="",C(!0)}return A(c,o=>{h.value.filter(o)}),T(async()=>{const{data:o}=await X();w.value=U(o)}),(o,e)=>{const l=s("IconifyIconOffline"),f=s("el-icon"),D=s("el-input"),b=s("el-button"),E=s("el-dropdown-item"),F=s("el-dropdown-menu"),H=s("el-dropdown"),L=s("el-divider"),O=s("el-tree");return g(),x("div",ge,[p("div",xe,[we,t(D,{style:{flex:"2"},size:"small",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=i=>c.value=i),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},{suffix:a(()=>[t(f,{class:"el-input__icon"},{default:a(()=>[Z(t(l,{icon:n(ee)},null,8,["icon"]),[[P,c.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),t(H,{"hide-on-click":!1},{dropdown:a(()=>[t(F,null,{default:a(()=>[t(E,null,{default:a(()=>[t(b,{class:m(n(y)),link:"",type:"primary",icon:n(z)(_.value?n(ue):n(me)),onClick:e[1]||(e[1]=i=>C(!_.value))},{default:a(()=>[v(V(_.value?"\u6298\u53E0\u5168\u90E8":"\u5C55\u5F00\u5168\u90E8"),1)]),_:1},8,["class","icon"])]),_:1}),t(E,null,{default:a(()=>[t(b,{class:m(n(y)),link:"",type:"primary",icon:n(z)(n(le)),onClick:R},{default:a(()=>[v(" \u91CD\u7F6E\u72B6\u6001 ")]),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:a(()=>[t(l,{class:"w-[28px] cursor-pointer",width:"18px",icon:n(te)},null,8,["icon"])]),_:1})]),t(L),t(O,{ref_key:"treeRef",ref:h,data:w.value,"node-key":"id",size:"small",props:S,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":B,onNodeClick:N},{default:a(({node:i,data:k})=>{var I,$;return[p("span",{class:m(["pl-1","pr-1","rounded","flex","items-center","select-none",c.value.trim().length>0&&i.label.includes(c.value)&&"text-red-500",(I=r.value[i.id])!=null&&I.highlight?"dark:text-primary":""]),style:G({background:($=r.value[i.id])!=null&&$.highlight?"var(--el-color-primary-light-7)":"transparent"})},[t(l,{icon:k.type===1?n(oe):k.type===2?n(se):n(Y)},null,8,["icon"]),v(" "+V(i.label),1)],6)]}),_:1},8,["data"])])}}});const ze=W(ye,[["__scopeId","data-v-628f3521"]]);export{ze as default};
